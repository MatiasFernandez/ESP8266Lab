<!DOCTYPE html>
<html>
<head>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.2.1/css/bootstrap.min.css" integrity="sha384-GJzZqFGwb1QTTN6wy59ffF1BuGJpLSa9DkKMp0DgiMDm4iYMj70gZWKYbI706tWS" crossorigin="anonymous">
    <script>
        var socket;
        function init() {
            let smartSwitchtoggle = document.getElementById("smartSwitchtoggle");
            smartSwitchtoggle.addEventListener('click', toggleSmartSwitch);

            socket = new WebSocket('ws://' + window.location.hostname + ':81');

            socket.onmessage = function(event) {
                console.log(event.data);
            }
        }

        function toggleSmartSwitch(event) {
            var msg = {
                type: "changeSwitchStatus",
                enable: event.target.checked,
            };

            socket.send(JSON.stringify(msg));
        }
    </script>
</head>
<body onload="javascript:init();">
    <div class="custom-control custom-switch">
        <input type="checkbox" class="custom-control-input" id="smartSwitchtoggle">
        <label class="custom-control-label" for="smartSwitchtoggle">Estado</label>
    </div>
</body>
</html>

